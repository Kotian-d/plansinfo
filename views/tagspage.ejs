<!DOCTYPE html>
<html>
  <head>
    <title>Add Tags</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Bootstrap CSS CDN -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    />
  </head>
  <body>
    <%- include('partials/navbar') %>

    <div class="container" style="margin-top: 40px">
      
    <% if (successMsg && successMsg.length >
    0) { %>
    <div class="alert alert-success alert-dismissible" role="alert">
      <button
        type="button"
        class="close"
        data-dismiss="alert"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
      <%= successMsg %>
    </div>
    <% } %> <% if (errorMsg && errorMsg.length > 0) { %>
    <div class="alert alert-danger alert-dismissible" role="alert">
      <button
        type="button"
        class="close"
        data-dismiss="alert"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
      <%= errorMsg %>
    </div>
    <% } %>

      <h2>Add Tags</h2>

      <form method="POST" action="/tags/add">
        <div class="form-group">
          <label for="tagName">Tag Name</label>
          <input
            type="text"
            class="form-control"
            id="tagName"
            name="name"
            required
          />
        </div>
        <button type="submit" class="btn btn-primary">Add Tag</button>
      </form>

      <% if (tags && tags.length) { %>
      <hr />
      <h3>Existing Tags</h3>
      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th>Name</th>
            <th class="text-right">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% tags.forEach(tag => { %>
          <tr>
            <td><%= tag.name %></td>
            <td class="text-right">
              <a href="/tags/edit/<%= tag._id %>" class="btn btn-sm btn-warning"
                >Edit</a
              >
              <form
                action="/tags/delete/<%= tag._id %>"
                method="POST"
                style="display: inline"
              >
                <button
                  type="submit"
                  class="btn btn-sm btn-danger"
                  onclick="return confirm('Delete this entry?');"
                >
                  Delete
                </button>
              </form>
            </td>
          </tr>
          <% }) %>
        </tbody>
      </table>
      <% } %>
    </div>
<%- include('partials/footer') %>